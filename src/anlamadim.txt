hash fonksiyonunu gptden buldum da deÄŸiÅŸtirebiliriz orayÄ±

## ğŸ”¹ 1ï¸âƒ£ `loadFactor`

private final double loadFactor;

bu, hash table ne kadar dolunca geniÅŸletilecek (resize edilecek) belirler.

Ã¶rnek:
loadFactor = 0.75;

demek ki tablodaki ortalama doluluk %75â€™i geÃ§erse kapasiteyi (bucket sayÄ±sÄ±nÄ±) **iki katÄ±na Ã§Ä±karacaÄŸÄ±z**.

hesap:

loadFactor = 0.75
capacity = 16
threshold = 16 * 0.75 = 12


yani 12. elemandan sonra rehash baÅŸlar.



## ğŸ”¹ 2ï¸âƒ£ `threshold`


private int threshold;  // resize eÅŸiÄŸi = (int)(capacity * loadFactor)


bu,kaÃ§ elemana kadar bÃ¼yÃ¼meden dayanabiliriz** sayÄ±sÄ±dÄ±r.

Ã¶rnek:

capacity = 16
loadFactor = 0.75
threshold = 12

tabloya 13. eleman eklenince `resize()` Ã§aÄŸrÄ±lÄ±r:

if (size > threshold) resize();


rehash sonrasÄ± kapasite 32 olur, yeni threshold = 32 * 0.75 = 24 olur.


## ğŸ”¹ 3ï¸âƒ£ `capacityMask`

private int capacityMask; // capacity-1, power-of-two ise hÄ±zlÄ± mod iÃ§in


burasÄ± biraz â€œperformans sihriâ€ kÄ±smÄ±.
normalde bir deÄŸeri bucket sayÄ±sÄ±na gÃ¶re mod almak iÃ§in ÅŸÃ¶yle yaparsÄ±n:


int index = (int)(hash % capacity);


ama `%` (mod) iÅŸlemi **yavaÅŸtÄ±r**.
eÄŸer `capacity` **power-of-two** (Ã¶rnek: 8, 16, 32, â€¦) ise
`hash % capacity` ile `hash & (capacity - 1)` **tamamen aynÄ± sonucu** verir â€” ama **Ã§ok daha hÄ±zlÄ±dÄ±r** Ã§Ã¼nkÃ¼ bitwise `AND` iÅŸlemi kullanÄ±lÄ±r.


capacity = 16 â†’ binary = 10000
capacity - 1 = 15 â†’ binary = 01111
hash & 15  â†’ hashâ€™in sadece son 4 bitini alÄ±r (mod 16 gibi)


bu yÃ¼zden:

capacityMask = capacity - 1;

ve sonra index hesaplanÄ±rken:

int index = (int)(mixed & capacityMask);

diyoruz.
bu iÅŸlem %100 doÄŸru ve Ã§ok hÄ±zlÄ±.


## ğŸ”¹ 4ï¸âƒ£ ÃœÃ§Ã¼ birlikte nasÄ±l Ã§alÄ±ÅŸÄ±yor

diyelim tabloyu ÅŸÃ¶yle oluÅŸturduk:

DoubleIntHashTable ht = new DoubleIntHashTable(16, 0.75);


| DeÄŸiÅŸken     | AnlamÄ±         | DeÄŸer |
| ------------ | -------------- | ----- |
| capacity     | bucket sayÄ±sÄ±  | 16    |
| capacityMask | hÄ±zlÄ± mod iÃ§in | 15    |
| loadFactor   | doluluk oranÄ±  | 0.75  |
| threshold    | bÃ¼yÃ¼me eÅŸiÄŸi   | 12    |

* 12 elemana kadar ekleme yapabilirsin
* 13. eleman eklenince rehash olur (tablo 32 olur)
* bucket index hesabÄ± `(hash & 15)` ile yapÄ±lÄ±r (Ã§ok hÄ±zlÄ± mod)

---

## ğŸ”¹ 5ï¸âƒ£ Ã–zet

| Alan           | GÃ¶revi                        | AÃ§Ä±klama                                  |
| -------------- | ----------------------------- | ----------------------------------------- |
| `loadFactor`   | tablo doluluk oranÄ± limiti    | %75 dolunca bÃ¼yÃ¼t                         |
| `threshold`    | bÃ¼yÃ¼tme eÅŸiÄŸi (eleman sayÄ±sÄ±) | = capacity Ã— loadFactor                   |
| `capacityMask` | hÄ±zlÄ± mod hesaplama           | sadece power-of-two capacityâ€™de iÅŸe yarar |



